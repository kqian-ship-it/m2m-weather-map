<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M2M Weather Risk Map - 2026-02-19</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Arial, sans-serif; }
        #map { height: calc(100vh - 60px); width: 100%; }
        .header {
            height: 60px;
            background: linear-gradient(135deg, #1e3a5f 0%, #2d5a87 100%);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            color: white;
        }
        .header h1 { font-size: 18px; font-weight: 600; }
        .header .stats {
            display: flex;
            gap: 20px;
            font-size: 13px;
        }
        .header .stat {
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .header .stat .dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            display: inline-block;
        }
        
        /* Pulsing animation for warning markers */
        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.3); opacity: 0.7; }
            100% { transform: scale(1); opacity: 1; }
        }
        .warning-pulse {
            animation: pulse 2s ease-in-out infinite;
        }
        .warning-icon {
            font-size: 20px;
            text-shadow: 0 0 6px rgba(255,165,0,0.8);
            cursor: pointer;
        }
        
        .legend {
            background: white;
            padding: 12px 16px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            font-size: 13px;
            line-height: 1.8;
        }
        .legend h4 {
            margin-bottom: 6px;
            font-size: 14px;
            color: #333;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .legend-dot {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            border: 2px solid rgba(0,0,0,0.2);
        }
        
        .info-panel {
            background: white;
            padding: 12px 16px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            font-size: 12px;
            max-width: 280px;
        }
        .info-panel h4 {
            margin-bottom: 8px;
            font-size: 14px;
            color: #1e3a5f;
        }
        .info-panel .risk-row {
            display: flex;
            justify-content: space-between;
            padding: 3px 0;
            border-bottom: 1px solid #f0f0f0;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üå°Ô∏è Month2Month Weather Risk Map ‚Äî 2026-02-19</h1>
        <div class="stats">
            <div class="stat"><span class="dot" style="background:#dc2626"></span> CRITICAL: 1</div>
            <div class="stat"><span class="dot" style="background:#ea580c"></span> SEVERE: 1</div>
            <div class="stat"><span class="dot" style="background:#f59e0b"></span> MODERATE: 9</div>
            <div class="stat"><span class="dot" style="background:#22c55e"></span> LOW: 19</div>
            <div class="stat">| Total: 280 properties</div>
            <div class="stat">Vacant: 78</div>
            <div class="stat">Occupied: 202</div>
        </div>
    </div>
    <div id="map"></div>
    
    <script>
        var map = L.map('map').setView([37.5, -98.0], 4);
        
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; OpenStreetMap contributors | M2M Weather Monitor',
            maxZoom: 18,
        }).addTo(map);
        
        var markers = [{"lat": 33.7175, "lon": -117.8311, "region": "Orange County", "risk": "MODERATE", "color": "#f59e0b", "radius": 30, "vacant": 10, "occupied": 46, "has_warning": true, "popup": "        <div style=\\'min-width:280px;font-family:Arial,sans-serif;\\'>            <h3 style=\\'margin:0 0 8px 0;color:#f59e0b;font-size:16px;\\'>                \u26a0\ufe0f Orange County            </h3>            <div style=\\'background:#f59e0b20;padding:6px 10px;border-radius:4px;margin-bottom:8px;\\'>                <b>Risk Level:</b> <span style=\\'color:#f59e0b;font-weight:bold;\\'>MODERATE</span>                &nbsp;|&nbsp; <b>Alerts:</b> 1            </div>            <div style=\\'margin-bottom:8px;\\'>                <b>\u26a0\ufe0f Vacant: 10</b>                &nbsp;|&nbsp; <b>Occupied:</b> 46                &nbsp;|&nbsp; <b>Total:</b> 56            </div>            <div style=\"margin-bottom:8px;\"><b>Active Alerts:</b><br>&nbsp;&nbsp;\u2022 Wind Advisory</div>            <div style=\"border-top:1px solid #eee;padding-top:6px;\"><b>\u26a0\ufe0f Vacant Properties at Risk:</b><br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 19: 2117 Scholarship, Irvine, CA 92612, USA<br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 58: 77 Hanging Garden, Irvine, CA 92620, USA<br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 3474: 507 J St, Newport Beach, CA 92661, USA<br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 7002: 4731 Oceanridge Dr, Huntington Beach, CA 9264<br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 40818: 48 Bamboo, Irvine, CA 92620, USA<br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 41333: 17 Riveroaks, Irvine, CA 92602, USA<br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 42270: 527 W Victor Ave, Anaheim, CA 92801, USA<br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 42471: 131 Ruby Rd, Mission Viejo, CA 92694, USA<br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 42513: 478 E Yale Loop #16, Irvine, CA 92614, USA<br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 42537: 9 Goldfinch, Irvine, CA 92603, USA</div>        </div>    ", "alert_count": 1}, {"lat": 28.5383, "lon": -81.3792, "region": "Orlando", "risk": "LOW", "color": "#22c55e", "radius": 12, "vacant": 0, "occupied": 7, "has_warning": false, "popup": "        <div style=\\'min-width:280px;font-family:Arial,sans-serif;\\'>            <h3 style=\\'margin:0 0 8px 0;color:#22c55e;font-size:16px;\\'>                Orlando            </h3>            <div style=\\'background:#22c55e20;padding:6px 10px;border-radius:4px;margin-bottom:8px;\\'>                <b>Risk Level:</b> <span style=\\'color:#22c55e;font-weight:bold;\\'>LOW</span>                &nbsp;|&nbsp; <b>Alerts:</b> 0            </div>            <div style=\\'margin-bottom:8px;\\'>                <b>Vacant: 0</b>                &nbsp;|&nbsp; <b>Occupied:</b> 7                &nbsp;|&nbsp; <b>Total:</b> 7            </div>                                </div>    ", "alert_count": 0}, {"lat": 33.9533, "lon": -117.3962, "region": "Riverside", "risk": "MODERATE", "color": "#f59e0b", "radius": 30, "vacant": 10, "occupied": 11, "has_warning": true, "popup": "        <div style=\\'min-width:280px;font-family:Arial,sans-serif;\\'>            <h3 style=\\'margin:0 0 8px 0;color:#f59e0b;font-size:16px;\\'>                \u26a0\ufe0f Riverside            </h3>            <div style=\\'background:#f59e0b20;padding:6px 10px;border-radius:4px;margin-bottom:8px;\\'>                <b>Risk Level:</b> <span style=\\'color:#f59e0b;font-weight:bold;\\'>MODERATE</span>                &nbsp;|&nbsp; <b>Alerts:</b> 1            </div>            <div style=\\'margin-bottom:8px;\\'>                <b>\u26a0\ufe0f Vacant: 10</b>                &nbsp;|&nbsp; <b>Occupied:</b> 11                &nbsp;|&nbsp; <b>Total:</b> 21            </div>            <div style=\"margin-bottom:8px;\"><b>Active Alerts:</b><br>&nbsp;&nbsp;\u2022 Wind Advisory</div>            <div style=\"border-top:1px solid #eee;padding-top:6px;\"><b>\u26a0\ufe0f Vacant Properties at Risk:</b><br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 40809: 14496 Meadowbrook Ln, Eastvale, CA 92880, USA<br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 41378: 14563 Gulfstream Lane, Moreno Valley, CA 9255<br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 41559: 19907 Sunkissed Ridge Dr, Riverside, CA 92507<br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 41613: 12675 Elmhurst Dr, Moreno Valley, CA 92555, U<br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 41703: 29223 Obsidian Ct, Nuevo, CA 92567, USA<br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 42084: 21585 Del Amo St, Moreno Valley, CA 92557, US<br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 42144: 688 Black Oak Cir, Corona, CA 92881, USA<br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 42255: 1705 Parkplace Ln, Riverside, CA 92501, USA<br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 42474: 26877 Chance Dr, Menifee, CA 92585, USA<br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 42510: 13247 Campolina Dr, Corona, CA 92880, USA</div>        </div>    ", "alert_count": 1}, {"lat": 29.7604, "lon": -95.3698, "region": "Houston", "risk": "LOW", "color": "#22c55e", "radius": 22.5, "vacant": 4, "occupied": 11, "has_warning": false, "popup": "        <div style=\\'min-width:280px;font-family:Arial,sans-serif;\\'>            <h3 style=\\'margin:0 0 8px 0;color:#22c55e;font-size:16px;\\'>                Houston            </h3>            <div style=\\'background:#22c55e20;padding:6px 10px;border-radius:4px;margin-bottom:8px;\\'>                <b>Risk Level:</b> <span style=\\'color:#22c55e;font-weight:bold;\\'>LOW</span>                &nbsp;|&nbsp; <b>Alerts:</b> 0            </div>            <div style=\\'margin-bottom:8px;\\'>                <b>Vacant: 4</b>                &nbsp;|&nbsp; <b>Occupied:</b> 11                &nbsp;|&nbsp; <b>Total:</b> 15            </div>                                </div>    ", "alert_count": 0}, {"lat": 45.5152, "lon": -122.6784, "region": "Portland and Nearby", "risk": "LOW", "color": "#22c55e", "radius": 19.5, "vacant": 7, "occupied": 6, "has_warning": false, "popup": "        <div style=\\'min-width:280px;font-family:Arial,sans-serif;\\'>            <h3 style=\\'margin:0 0 8px 0;color:#22c55e;font-size:16px;\\'>                Portland and Nearby            </h3>            <div style=\\'background:#22c55e20;padding:6px 10px;border-radius:4px;margin-bottom:8px;\\'>                <b>Risk Level:</b> <span style=\\'color:#22c55e;font-weight:bold;\\'>LOW</span>                &nbsp;|&nbsp; <b>Alerts:</b> 0            </div>            <div style=\\'margin-bottom:8px;\\'>                <b>Vacant: 7</b>                &nbsp;|&nbsp; <b>Occupied:</b> 6                &nbsp;|&nbsp; <b>Total:</b> 13            </div>                                </div>    ", "alert_count": 0}, {"lat": 29.4241, "lon": -98.4936, "region": "San Antonio", "risk": "LOW", "color": "#22c55e", "radius": 12, "vacant": 1, "occupied": 3, "has_warning": false, "popup": "        <div style=\\'min-width:280px;font-family:Arial,sans-serif;\\'>            <h3 style=\\'margin:0 0 8px 0;color:#22c55e;font-size:16px;\\'>                San Antonio            </h3>            <div style=\\'background:#22c55e20;padding:6px 10px;border-radius:4px;margin-bottom:8px;\\'>                <b>Risk Level:</b> <span style=\\'color:#22c55e;font-weight:bold;\\'>LOW</span>                &nbsp;|&nbsp; <b>Alerts:</b> 0            </div>            <div style=\\'margin-bottom:8px;\\'>                <b>Vacant: 1</b>                &nbsp;|&nbsp; <b>Occupied:</b> 3                &nbsp;|&nbsp; <b>Total:</b> 4            </div>                                </div>    ", "alert_count": 0}, {"lat": 34.0522, "lon": -118.2437, "region": "Los Angeles and Nearby", "risk": "MODERATE", "color": "#f59e0b", "radius": 30, "vacant": 18, "occupied": 23, "has_warning": true, "popup": "        <div style=\\'min-width:280px;font-family:Arial,sans-serif;\\'>            <h3 style=\\'margin:0 0 8px 0;color:#f59e0b;font-size:16px;\\'>                \u26a0\ufe0f Los Angeles and Nearby            </h3>            <div style=\\'background:#f59e0b20;padding:6px 10px;border-radius:4px;margin-bottom:8px;\\'>                <b>Risk Level:</b> <span style=\\'color:#f59e0b;font-weight:bold;\\'>MODERATE</span>                &nbsp;|&nbsp; <b>Alerts:</b> 1            </div>            <div style=\\'margin-bottom:8px;\\'>                <b>\u26a0\ufe0f Vacant: 18</b>                &nbsp;|&nbsp; <b>Occupied:</b> 23                &nbsp;|&nbsp; <b>Total:</b> 41            </div>            <div style=\"margin-bottom:8px;\"><b>Active Alerts:</b><br>&nbsp;&nbsp;\u2022 Wind Advisory</div>            <div style=\"border-top:1px solid #eee;padding-top:6px;\"><b>\u26a0\ufe0f Vacant Properties at Risk:</b><br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 41589: 44149 Buckeye Ct, Lancaster, CA 93536, USA<br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 41637: 46 Los Felis Dr, Pomona, CA 91767, USA<br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 41751: 1427 Pecan Grove Dr, Diamond Bar, CA 91765, U<br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 41754: 945 E Wonder Ln, Glendora, CA 91740, USA<br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 41808: 12203 Santa Gertrudes Ave #57, La Mirada, CA <br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 41820: 9303 Alondra Blvd Apt 4, Bellflower, CA 90706<br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 41877: 11843 Apple Grove Ln, Sylmar, CA 91342, USA<br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 41892: 37058 Alton Drive, Palmdale, CA 93550, USA<br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 41910: 2910 Malaga Cir unit a, Diamond Bar, CA 91765<br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 42090: 4389 Maple Ln, Arcadia, CA 91006, USA<br>&nbsp;&nbsp;&nbsp;&nbsp;... and 8 more</div>        </div>    ", "alert_count": 1}, {"lat": 34.1083, "lon": -117.2898, "region": "San Bernardino", "risk": "MODERATE", "color": "#f59e0b", "radius": 30, "vacant": 1, "occupied": 20, "has_warning": true, "popup": "        <div style=\\'min-width:280px;font-family:Arial,sans-serif;\\'>            <h3 style=\\'margin:0 0 8px 0;color:#f59e0b;font-size:16px;\\'>                \u26a0\ufe0f San Bernardino            </h3>            <div style=\\'background:#f59e0b20;padding:6px 10px;border-radius:4px;margin-bottom:8px;\\'>                <b>Risk Level:</b> <span style=\\'color:#f59e0b;font-weight:bold;\\'>MODERATE</span>                &nbsp;|&nbsp; <b>Alerts:</b> 1            </div>            <div style=\\'margin-bottom:8px;\\'>                <b>\u26a0\ufe0f Vacant: 1</b>                &nbsp;|&nbsp; <b>Occupied:</b> 20                &nbsp;|&nbsp; <b>Total:</b> 21            </div>            <div style=\"margin-bottom:8px;\"><b>Active Alerts:</b><br>&nbsp;&nbsp;\u2022 Wind Advisory</div>            <div style=\"border-top:1px solid #eee;padding-top:6px;\"><b>\u26a0\ufe0f Vacant Properties at Risk:</b><br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 41829: 1509 Granada Rd, Upland, CA 91786, USA</div>        </div>    ", "alert_count": 1}, {"lat": 37.3861, "lon": -122.0839, "region": "Bay Area", "risk": "SEVERE", "color": "#ea580c", "radius": 24.0, "vacant": 2, "occupied": 14, "has_warning": true, "popup": "        <div style=\\'min-width:280px;font-family:Arial,sans-serif;\\'>            <h3 style=\\'margin:0 0 8px 0;color:#ea580c;font-size:16px;\\'>                \u26a0\ufe0f Bay Area            </h3>            <div style=\\'background:#ea580c20;padding:6px 10px;border-radius:4px;margin-bottom:8px;\\'>                <b>Risk Level:</b> <span style=\\'color:#ea580c;font-weight:bold;\\'>SEVERE</span>                &nbsp;|&nbsp; <b>Alerts:</b> 1            </div>            <div style=\\'margin-bottom:8px;\\'>                <b>\u26a0\ufe0f Vacant: 2</b>                &nbsp;|&nbsp; <b>Occupied:</b> 14                &nbsp;|&nbsp; <b>Total:</b> 16            </div>            <div style=\"margin-bottom:8px;\"><b>Active Alerts:</b><br>&nbsp;&nbsp;\u2022 Cold Weather Advisory</div>            <div style=\"border-top:1px solid #eee;padding-top:6px;\"><b>\u26a0\ufe0f Vacant Properties at Risk:</b><br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 42069: 1452 Lochner Dr, San Jose, CA 95127, USA<br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 42540: 1497 Shinn Ct, Fremont, CA 94536, USA</div>        </div>    ", "alert_count": 1}, {"lat": 32.7767, "lon": -96.797, "region": "Dallas", "risk": "LOW", "color": "#22c55e", "radius": 15.0, "vacant": 3, "occupied": 7, "has_warning": false, "popup": "        <div style=\\'min-width:280px;font-family:Arial,sans-serif;\\'>            <h3 style=\\'margin:0 0 8px 0;color:#22c55e;font-size:16px;\\'>                Dallas            </h3>            <div style=\\'background:#22c55e20;padding:6px 10px;border-radius:4px;margin-bottom:8px;\\'>                <b>Risk Level:</b> <span style=\\'color:#22c55e;font-weight:bold;\\'>LOW</span>                &nbsp;|&nbsp; <b>Alerts:</b> 0            </div>            <div style=\\'margin-bottom:8px;\\'>                <b>Vacant: 3</b>                &nbsp;|&nbsp; <b>Occupied:</b> 7                &nbsp;|&nbsp; <b>Total:</b> 10            </div>                                </div>    ", "alert_count": 0}, {"lat": 38.5816, "lon": -121.4944, "region": "Sacramento", "risk": "MODERATE", "color": "#f59e0b", "radius": 12, "vacant": 2, "occupied": 4, "has_warning": true, "popup": "        <div style=\\'min-width:280px;font-family:Arial,sans-serif;\\'>            <h3 style=\\'margin:0 0 8px 0;color:#f59e0b;font-size:16px;\\'>                \u26a0\ufe0f Sacramento            </h3>            <div style=\\'background:#f59e0b20;padding:6px 10px;border-radius:4px;margin-bottom:8px;\\'>                <b>Risk Level:</b> <span style=\\'color:#f59e0b;font-weight:bold;\\'>MODERATE</span>                &nbsp;|&nbsp; <b>Alerts:</b> 1            </div>            <div style=\\'margin-bottom:8px;\\'>                <b>\u26a0\ufe0f Vacant: 2</b>                &nbsp;|&nbsp; <b>Occupied:</b> 4                &nbsp;|&nbsp; <b>Total:</b> 6            </div>            <div style=\"margin-bottom:8px;\"><b>Active Alerts:</b><br>&nbsp;&nbsp;\u2022 Wind Advisory</div>            <div style=\"border-top:1px solid #eee;padding-top:6px;\"><b>\u26a0\ufe0f Vacant Properties at Risk:</b><br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 41384: 3304 Sunny Gate Ln, Folsom, CA 95630, USA<br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 42354: 9042 El Oro Plaza Dr, Elk Grove, CA 95624, US</div>        </div>    ", "alert_count": 1}, {"lat": 32.7765, "lon": -79.9311, "region": "South Carolina", "risk": "LOW", "color": "#22c55e", "radius": 12, "vacant": 0, "occupied": 1, "has_warning": false, "popup": "        <div style=\\'min-width:280px;font-family:Arial,sans-serif;\\'>            <h3 style=\\'margin:0 0 8px 0;color:#22c55e;font-size:16px;\\'>                South Carolina            </h3>            <div style=\\'background:#22c55e20;padding:6px 10px;border-radius:4px;margin-bottom:8px;\\'>                <b>Risk Level:</b> <span style=\\'color:#22c55e;font-weight:bold;\\'>LOW</span>                &nbsp;|&nbsp; <b>Alerts:</b> 0            </div>            <div style=\\'margin-bottom:8px;\\'>                <b>Vacant: 0</b>                &nbsp;|&nbsp; <b>Occupied:</b> 1                &nbsp;|&nbsp; <b>Total:</b> 1            </div>                                </div>    ", "alert_count": 0}, {"lat": 32.7157, "lon": -117.1611, "region": "San Diego", "risk": "MODERATE", "color": "#f59e0b", "radius": 12, "vacant": 1, "occupied": 5, "has_warning": true, "popup": "        <div style=\\'min-width:280px;font-family:Arial,sans-serif;\\'>            <h3 style=\\'margin:0 0 8px 0;color:#f59e0b;font-size:16px;\\'>                \u26a0\ufe0f San Diego            </h3>            <div style=\\'background:#f59e0b20;padding:6px 10px;border-radius:4px;margin-bottom:8px;\\'>                <b>Risk Level:</b> <span style=\\'color:#f59e0b;font-weight:bold;\\'>MODERATE</span>                &nbsp;|&nbsp; <b>Alerts:</b> 2            </div>            <div style=\\'margin-bottom:8px;\\'>                <b>\u26a0\ufe0f Vacant: 1</b>                &nbsp;|&nbsp; <b>Occupied:</b> 5                &nbsp;|&nbsp; <b>Total:</b> 6            </div>            <div style=\"margin-bottom:8px;\"><b>Active Alerts:</b><br>&nbsp;&nbsp;\u2022 High Surf Advisory<br>&nbsp;&nbsp;\u2022 Wind Advisory</div>            <div style=\"border-top:1px solid #eee;padding-top:6px;\"><b>\u26a0\ufe0f Vacant Properties at Risk:</b><br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 41925: 11022 Alonda Ct, San Diego, CA 92126, USA</div>        </div>    ", "alert_count": 2}, {"lat": 33.749, "lon": -84.388, "region": "Georgia", "risk": "LOW", "color": "#22c55e", "radius": 16.5, "vacant": 1, "occupied": 10, "has_warning": false, "popup": "        <div style=\\'min-width:280px;font-family:Arial,sans-serif;\\'>            <h3 style=\\'margin:0 0 8px 0;color:#22c55e;font-size:16px;\\'>                Georgia            </h3>            <div style=\\'background:#22c55e20;padding:6px 10px;border-radius:4px;margin-bottom:8px;\\'>                <b>Risk Level:</b> <span style=\\'color:#22c55e;font-weight:bold;\\'>LOW</span>                &nbsp;|&nbsp; <b>Alerts:</b> 0            </div>            <div style=\\'margin-bottom:8px;\\'>                <b>Vacant: 1</b>                &nbsp;|&nbsp; <b>Occupied:</b> 10                &nbsp;|&nbsp; <b>Total:</b> 11            </div>                                </div>    ", "alert_count": 0}, {"lat": 33.4484, "lon": -112.074, "region": "Phoenix and Nearby", "risk": "LOW", "color": "#22c55e", "radius": 12, "vacant": 0, "occupied": 7, "has_warning": false, "popup": "        <div style=\\'min-width:280px;font-family:Arial,sans-serif;\\'>            <h3 style=\\'margin:0 0 8px 0;color:#22c55e;font-size:16px;\\'>                Phoenix and Nearby            </h3>            <div style=\\'background:#22c55e20;padding:6px 10px;border-radius:4px;margin-bottom:8px;\\'>                <b>Risk Level:</b> <span style=\\'color:#22c55e;font-weight:bold;\\'>LOW</span>                &nbsp;|&nbsp; <b>Alerts:</b> 0            </div>            <div style=\\'margin-bottom:8px;\\'>                <b>Vacant: 0</b>                &nbsp;|&nbsp; <b>Occupied:</b> 7                &nbsp;|&nbsp; <b>Total:</b> 7            </div>                                </div>    ", "alert_count": 0}, {"lat": 40.015, "lon": -105.2705, "region": "Colorado", "risk": "LOW", "color": "#22c55e", "radius": 12, "vacant": 2, "occupied": 2, "has_warning": false, "popup": "        <div style=\\'min-width:280px;font-family:Arial,sans-serif;\\'>            <h3 style=\\'margin:0 0 8px 0;color:#22c55e;font-size:16px;\\'>                Colorado            </h3>            <div style=\\'background:#22c55e20;padding:6px 10px;border-radius:4px;margin-bottom:8px;\\'>                <b>Risk Level:</b> <span style=\\'color:#22c55e;font-weight:bold;\\'>LOW</span>                &nbsp;|&nbsp; <b>Alerts:</b> 0            </div>            <div style=\\'margin-bottom:8px;\\'>                <b>Vacant: 2</b>                &nbsp;|&nbsp; <b>Occupied:</b> 2                &nbsp;|&nbsp; <b>Total:</b> 4            </div>                                </div>    ", "alert_count": 0}, {"lat": 30.2672, "lon": -97.7431, "region": "Austin and Nearby", "risk": "LOW", "color": "#22c55e", "radius": 12, "vacant": 3, "occupied": 4, "has_warning": false, "popup": "        <div style=\\'min-width:280px;font-family:Arial,sans-serif;\\'>            <h3 style=\\'margin:0 0 8px 0;color:#22c55e;font-size:16px;\\'>                Austin and Nearby            </h3>            <div style=\\'background:#22c55e20;padding:6px 10px;border-radius:4px;margin-bottom:8px;\\'>                <b>Risk Level:</b> <span style=\\'color:#22c55e;font-weight:bold;\\'>LOW</span>                &nbsp;|&nbsp; <b>Alerts:</b> 0            </div>            <div style=\\'margin-bottom:8px;\\'>                <b>Vacant: 3</b>                &nbsp;|&nbsp; <b>Occupied:</b> 4                &nbsp;|&nbsp; <b>Total:</b> 7            </div>                                </div>    ", "alert_count": 0}, {"lat": 45.6387, "lon": -122.6615, "region": "Vancouver", "risk": "LOW", "color": "#22c55e", "radius": 12, "vacant": 1, "occupied": 5, "has_warning": false, "popup": "        <div style=\\'min-width:280px;font-family:Arial,sans-serif;\\'>            <h3 style=\\'margin:0 0 8px 0;color:#22c55e;font-size:16px;\\'>                Vancouver            </h3>            <div style=\\'background:#22c55e20;padding:6px 10px;border-radius:4px;margin-bottom:8px;\\'>                <b>Risk Level:</b> <span style=\\'color:#22c55e;font-weight:bold;\\'>LOW</span>                &nbsp;|&nbsp; <b>Alerts:</b> 0            </div>            <div style=\\'margin-bottom:8px;\\'>                <b>Vacant: 1</b>                &nbsp;|&nbsp; <b>Occupied:</b> 5                &nbsp;|&nbsp; <b>Total:</b> 6            </div>                                </div>    ", "alert_count": 0}, {"lat": 42.0451, "lon": -87.9365, "region": "Chicago and Nearby", "risk": "LOW", "color": "#22c55e", "radius": 12, "vacant": 2, "occupied": 1, "has_warning": false, "popup": "        <div style=\\'min-width:280px;font-family:Arial,sans-serif;\\'>            <h3 style=\\'margin:0 0 8px 0;color:#22c55e;font-size:16px;\\'>                Chicago and Nearby            </h3>            <div style=\\'background:#22c55e20;padding:6px 10px;border-radius:4px;margin-bottom:8px;\\'>                <b>Risk Level:</b> <span style=\\'color:#22c55e;font-weight:bold;\\'>LOW</span>                &nbsp;|&nbsp; <b>Alerts:</b> 0            </div>            <div style=\\'margin-bottom:8px;\\'>                <b>Vacant: 2</b>                &nbsp;|&nbsp; <b>Occupied:</b> 1                &nbsp;|&nbsp; <b>Total:</b> 3            </div>                                </div>    ", "alert_count": 0}, {"lat": 35.3733, "lon": -119.0187, "region": "Bakersfield", "risk": "CRITICAL", "color": "#dc2626", "radius": 12, "vacant": 1, "occupied": 1, "has_warning": true, "popup": "        <div style=\\'min-width:280px;font-family:Arial,sans-serif;\\'>            <h3 style=\\'margin:0 0 8px 0;color:#dc2626;font-size:16px;\\'>                \u26a0\ufe0f Bakersfield            </h3>            <div style=\\'background:#dc262620;padding:6px 10px;border-radius:4px;margin-bottom:8px;\\'>                <b>Risk Level:</b> <span style=\\'color:#dc2626;font-weight:bold;\\'>CRITICAL</span>                &nbsp;|&nbsp; <b>Alerts:</b> 1            </div>            <div style=\\'margin-bottom:8px;\\'>                <b>\u26a0\ufe0f Vacant: 1</b>                &nbsp;|&nbsp; <b>Occupied:</b> 1                &nbsp;|&nbsp; <b>Total:</b> 2            </div>            <div style=\"margin-bottom:8px;\"><b>Active Alerts:</b><br>&nbsp;&nbsp;\u2022 Freeze Watch</div>            <div style=\"border-top:1px solid #eee;padding-top:6px;\"><b>\u26a0\ufe0f Vacant Properties at Risk:</b><br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 41844: 606 Windsor Park Dr, Bakersfield, CA 93311, U</div>        </div>    ", "alert_count": 1}, {"lat": 47.6062, "lon": -122.3321, "region": "Seattle and Nearby", "risk": "LOW", "color": "#22c55e", "radius": 13.5, "vacant": 3, "occupied": 6, "has_warning": false, "popup": "        <div style=\\'min-width:280px;font-family:Arial,sans-serif;\\'>            <h3 style=\\'margin:0 0 8px 0;color:#22c55e;font-size:16px;\\'>                Seattle and Nearby            </h3>            <div style=\\'background:#22c55e20;padding:6px 10px;border-radius:4px;margin-bottom:8px;\\'>                <b>Risk Level:</b> <span style=\\'color:#22c55e;font-weight:bold;\\'>LOW</span>                &nbsp;|&nbsp; <b>Alerts:</b> 0            </div>            <div style=\\'margin-bottom:8px;\\'>                <b>Vacant: 3</b>                &nbsp;|&nbsp; <b>Occupied:</b> 6                &nbsp;|&nbsp; <b>Total:</b> 9            </div>                                </div>    ", "alert_count": 0}, {"lat": 35.7796, "lon": -78.6382, "region": "North Carolina", "risk": "LOW", "color": "#22c55e", "radius": 12, "vacant": 1, "occupied": 3, "has_warning": false, "popup": "        <div style=\\'min-width:280px;font-family:Arial,sans-serif;\\'>            <h3 style=\\'margin:0 0 8px 0;color:#22c55e;font-size:16px;\\'>                North Carolina            </h3>            <div style=\\'background:#22c55e20;padding:6px 10px;border-radius:4px;margin-bottom:8px;\\'>                <b>Risk Level:</b> <span style=\\'color:#22c55e;font-weight:bold;\\'>LOW</span>                &nbsp;|&nbsp; <b>Alerts:</b> 0            </div>            <div style=\\'margin-bottom:8px;\\'>                <b>Vacant: 1</b>                &nbsp;|&nbsp; <b>Occupied:</b> 3                &nbsp;|&nbsp; <b>Total:</b> 4            </div>                                </div>    ", "alert_count": 0}, {"lat": 39.7684, "lon": -86.1581, "region": "Indiana", "risk": "MODERATE", "color": "#f59e0b", "radius": 12, "vacant": 0, "occupied": 1, "has_warning": false, "popup": "        <div style=\\'min-width:280px;font-family:Arial,sans-serif;\\'>            <h3 style=\\'margin:0 0 8px 0;color:#f59e0b;font-size:16px;\\'>                Indiana            </h3>            <div style=\\'background:#f59e0b20;padding:6px 10px;border-radius:4px;margin-bottom:8px;\\'>                <b>Risk Level:</b> <span style=\\'color:#f59e0b;font-weight:bold;\\'>MODERATE</span>                &nbsp;|&nbsp; <b>Alerts:</b> 1            </div>            <div style=\\'margin-bottom:8px;\\'>                <b>Vacant: 0</b>                &nbsp;|&nbsp; <b>Occupied:</b> 1                &nbsp;|&nbsp; <b>Total:</b> 1            </div>            <div style=\"margin-bottom:8px;\"><b>Active Alerts:</b><br>&nbsp;&nbsp;\u2022 Special Weather Statement</div>                    </div>    ", "alert_count": 1}, {"lat": 39.6837, "lon": -75.7497, "region": "Delaware", "risk": "LOW", "color": "#22c55e", "radius": 12, "vacant": 0, "occupied": 1, "has_warning": false, "popup": "        <div style=\\'min-width:280px;font-family:Arial,sans-serif;\\'>            <h3 style=\\'margin:0 0 8px 0;color:#22c55e;font-size:16px;\\'>                Delaware            </h3>            <div style=\\'background:#22c55e20;padding:6px 10px;border-radius:4px;margin-bottom:8px;\\'>                <b>Risk Level:</b> <span style=\\'color:#22c55e;font-weight:bold;\\'>LOW</span>                &nbsp;|&nbsp; <b>Alerts:</b> 0            </div>            <div style=\\'margin-bottom:8px;\\'>                <b>Vacant: 0</b>                &nbsp;|&nbsp; <b>Occupied:</b> 1                &nbsp;|&nbsp; <b>Total:</b> 1            </div>                                </div>    ", "alert_count": 0}, {"lat": 40.764, "lon": -74.1502, "region": "New Jersey", "risk": "LOW", "color": "#22c55e", "radius": 12, "vacant": 0, "occupied": 1, "has_warning": false, "popup": "        <div style=\\'min-width:280px;font-family:Arial,sans-serif;\\'>            <h3 style=\\'margin:0 0 8px 0;color:#22c55e;font-size:16px;\\'>                New Jersey            </h3>            <div style=\\'background:#22c55e20;padding:6px 10px;border-radius:4px;margin-bottom:8px;\\'>                <b>Risk Level:</b> <span style=\\'color:#22c55e;font-weight:bold;\\'>LOW</span>                &nbsp;|&nbsp; <b>Alerts:</b> 0            </div>            <div style=\\'margin-bottom:8px;\\'>                <b>Vacant: 0</b>                &nbsp;|&nbsp; <b>Occupied:</b> 1                &nbsp;|&nbsp; <b>Total:</b> 1            </div>                                </div>    ", "alert_count": 0}, {"lat": 42.1689, "lon": -83.7816, "region": "Michigan", "risk": "MODERATE", "color": "#f59e0b", "radius": 12, "vacant": 1, "occupied": 0, "has_warning": true, "popup": "        <div style=\\'min-width:280px;font-family:Arial,sans-serif;\\'>            <h3 style=\\'margin:0 0 8px 0;color:#f59e0b;font-size:16px;\\'>                \u26a0\ufe0f Michigan            </h3>            <div style=\\'background:#f59e0b20;padding:6px 10px;border-radius:4px;margin-bottom:8px;\\'>                <b>Risk Level:</b> <span style=\\'color:#f59e0b;font-weight:bold;\\'>MODERATE</span>                &nbsp;|&nbsp; <b>Alerts:</b> 1            </div>            <div style=\\'margin-bottom:8px;\\'>                <b>\u26a0\ufe0f Vacant: 1</b>                &nbsp;|&nbsp; <b>Occupied:</b> 0                &nbsp;|&nbsp; <b>Total:</b> 1            </div>            <div style=\"margin-bottom:8px;\"><b>Active Alerts:</b><br>&nbsp;&nbsp;\u2022 Dense Fog Advisory</div>            <div style=\"border-top:1px solid #eee;padding-top:6px;\"><b>\u26a0\ufe0f Vacant Properties at Risk:</b><br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 42177: 2770 Silo Dr, Saline Township, MI 48176, USA</div>        </div>    ", "alert_count": 1}, {"lat": 39.4143, "lon": -77.4105, "region": "Maryland", "risk": "LOW", "color": "#22c55e", "radius": 12, "vacant": 1, "occupied": 0, "has_warning": false, "popup": "        <div style=\\'min-width:280px;font-family:Arial,sans-serif;\\'>            <h3 style=\\'margin:0 0 8px 0;color:#22c55e;font-size:16px;\\'>                Maryland            </h3>            <div style=\\'background:#22c55e20;padding:6px 10px;border-radius:4px;margin-bottom:8px;\\'>                <b>Risk Level:</b> <span style=\\'color:#22c55e;font-weight:bold;\\'>LOW</span>                &nbsp;|&nbsp; <b>Alerts:</b> 0            </div>            <div style=\\'margin-bottom:8px;\\'>                <b>Vacant: 1</b>                &nbsp;|&nbsp; <b>Occupied:</b> 0                &nbsp;|&nbsp; <b>Total:</b> 1            </div>                                </div>    ", "alert_count": 0}, {"lat": 36.1699, "lon": -115.1398, "region": "Las Vegas", "risk": "MODERATE", "color": "#f59e0b", "radius": 12, "vacant": 1, "occupied": 1, "has_warning": true, "popup": "        <div style=\\'min-width:280px;font-family:Arial,sans-serif;\\'>            <h3 style=\\'margin:0 0 8px 0;color:#f59e0b;font-size:16px;\\'>                \u26a0\ufe0f Las Vegas            </h3>            <div style=\\'background:#f59e0b20;padding:6px 10px;border-radius:4px;margin-bottom:8px;\\'>                <b>Risk Level:</b> <span style=\\'color:#f59e0b;font-weight:bold;\\'>MODERATE</span>                &nbsp;|&nbsp; <b>Alerts:</b> 1            </div>            <div style=\\'margin-bottom:8px;\\'>                <b>\u26a0\ufe0f Vacant: 1</b>                &nbsp;|&nbsp; <b>Occupied:</b> 1                &nbsp;|&nbsp; <b>Total:</b> 2            </div>            <div style=\"margin-bottom:8px;\"><b>Active Alerts:</b><br>&nbsp;&nbsp;\u2022 Wind Advisory</div>            <div style=\"border-top:1px solid #eee;padding-top:6px;\"><b>\u26a0\ufe0f Vacant Properties at Risk:</b><br>&nbsp;&nbsp;&nbsp;&nbsp;\u2022 House 42378: 9867 Big Window St, Las Vegas, NV 89178, USA</div>        </div>    ", "alert_count": 1}, {"lat": 43.6532, "lon": -79.3832, "region": "Toronto", "risk": "LOW", "color": "#22c55e", "radius": 12, "vacant": 0, "occupied": 1, "has_warning": false, "popup": "        <div style=\\'min-width:280px;font-family:Arial,sans-serif;\\'>            <h3 style=\\'margin:0 0 8px 0;color:#22c55e;font-size:16px;\\'>                Toronto            </h3>            <div style=\\'background:#22c55e20;padding:6px 10px;border-radius:4px;margin-bottom:8px;\\'>                <b>Risk Level:</b> <span style=\\'color:#22c55e;font-weight:bold;\\'>LOW</span>                &nbsp;|&nbsp; <b>Alerts:</b> 0            </div>            <div style=\\'margin-bottom:8px;\\'>                <b>Vacant: 0</b>                &nbsp;|&nbsp; <b>Occupied:</b> 1                &nbsp;|&nbsp; <b>Total:</b> 1            </div>                                </div>    ", "alert_count": 0}, {"lat": 44.9778, "lon": -93.265, "region": "Minnesota", "risk": "LOW", "color": "#22c55e", "radius": 12, "vacant": 2, "occupied": 0, "has_warning": false, "popup": "        <div style=\\'min-width:280px;font-family:Arial,sans-serif;\\'>            <h3 style=\\'margin:0 0 8px 0;color:#22c55e;font-size:16px;\\'>                Minnesota            </h3>            <div style=\\'background:#22c55e20;padding:6px 10px;border-radius:4px;margin-bottom:8px;\\'>                <b>Risk Level:</b> <span style=\\'color:#22c55e;font-weight:bold;\\'>LOW</span>                &nbsp;|&nbsp; <b>Alerts:</b> 0            </div>            <div style=\\'margin-bottom:8px;\\'>                <b>Vacant: 2</b>                &nbsp;|&nbsp; <b>Occupied:</b> 0                &nbsp;|&nbsp; <b>Total:</b> 2            </div>                                </div>    ", "alert_count": 0}];
        
        markers.forEach(function(m) {
            // Circle marker for the region
            var circle = L.circleMarker([m.lat, m.lon], {
                radius: m.radius,
                fillColor: m.color,
                color: m.color,
                weight: 2,
                opacity: 0.9,
                fillOpacity: 0.4,
            }).addTo(map);
            
            circle.bindPopup(m.popup, {maxWidth: 350});
            
            // Add warning icon for regions with vacant properties in risk zones
            if (m.has_warning) {
                var warningIcon = L.divIcon({
                    html: '<div class="warning-icon warning-pulse">‚ö†Ô∏è</div>',
                    className: '',
                    iconSize: [24, 24],
                    iconAnchor: [12, 12],
                });
                var warningMarker = L.marker([m.lat + 0.15, m.lon + 0.15], {
                    icon: warningIcon,
                    zIndexOffset: 1000,
                }).addTo(map);
                warningMarker.bindPopup(m.popup, {maxWidth: 350});
            }
            
            // Add region label
            var labelIcon = L.divIcon({
                html: '<div style="font-size:11px;font-weight:bold;color:#333;text-shadow:1px 1px 2px white,-1px -1px 2px white,1px -1px 2px white,-1px 1px 2px white;white-space:nowrap;text-align:center;">' + 
                      (m.has_warning ? '‚ö†Ô∏è ' : '') + m.region + 
                      '<br><span style="font-size:10px;color:' + m.color + ';">V:' + m.vacant + ' O:' + m.occupied + '</span></div>',
                className: '',
                iconSize: [120, 30],
                iconAnchor: [60, -10],
            });
            L.marker([m.lat, m.lon], {icon: labelIcon, interactive: false}).addTo(map);
        });
        
        // Legend
        var legend = L.control({position: 'bottomright'});
        legend.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'legend');
            div.innerHTML = `
                <h4>Risk Levels</h4>
                <div class="legend-item"><div class="legend-dot" style="background:#dc2626"></div> CRITICAL</div>
                <div class="legend-item"><div class="legend-dot" style="background:#ea580c"></div> SEVERE</div>
                <div class="legend-item"><div class="legend-dot" style="background:#f59e0b"></div> MODERATE</div>
                <div class="legend-item"><div class="legend-dot" style="background:#22c55e"></div> LOW</div>
                <hr style="margin:6px 0;">
                <div class="legend-item"><span class="warning-icon warning-pulse" style="font-size:16px;">‚ö†Ô∏è</span> Vacant at Risk</div>
            `;
            return div;
        };
        legend.addTo(map);
        
        // Info panel
        var info = L.control({position: 'topright'});
        info.onAdd = function(map) {
            var div = L.DomUtil.create('div', 'info-panel');
            var highRiskRegions = markers.filter(function(m) { return m.risk !== 'LOW'; });
            var html = '<h4>‚ö†Ô∏è Active Weather Alerts</h4>';
            highRiskRegions.sort(function(a, b) {
                var order = {'CRITICAL': 0, 'SEVERE': 1, 'MODERATE': 2, 'LOW': 3};
                return order[a.risk] - order[b.risk];
            });
            highRiskRegions.forEach(function(r) {
                html += '<div class="risk-row"><span>' + 
                    (r.has_warning ? '‚ö†Ô∏è ' : '') + r.region + 
                    '</span><span style="color:' + r.color + ';font-weight:bold;">' + r.risk + '</span></div>';
            });
            if (highRiskRegions.length === 0) {
                html += '<div style="color:#22c55e;">No active alerts</div>';
            }
            div.innerHTML = html;
            return div;
        };
        info.addTo(map);
    </script>
</body>
</html>